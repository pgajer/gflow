% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/stats_utils.R
\name{pca.optimal.components}
\alias{pca.optimal.components}
\title{Determine Optimal Number of Principal Components Based on Variance Explained}
\usage{
pca.optimal.components(
  X,
  variance.threshold = 0.99,
  max.components = NULL,
  center = TRUE,
  scale = FALSE
)
}
\arguments{
\item{X}{A numeric matrix to analyze.}

\item{variance.threshold}{The percentage of variance to be explained (between 0 and 1).}

\item{max.components}{Maximum number of components to consider (default is NULL, which means all columns).}

\item{center}{Logical indicating whether the variables should be centered (default is TRUE).}

\item{scale}{Logical indicating whether the variables should be scaled (default is FALSE).}
}
\value{
A list containing:
\item{n.components}{Number of components needed to meet the variance threshold}
\item{variance.explained}{Percentage of variance explained by the selected components}
\item{cumulative.variance}{Vector of cumulative variance explained for all components}
\item{pca.result}{The full PCA result object}
}
\description{
This helper function performs PCA and determines the optimal number of principal
components needed to explain a specified percentage of variance in the data.
}
\keyword{internal}
