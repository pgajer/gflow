% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/iknn_graphs.R
\name{analyze.edge.birth.death.graph.stability}
\alias{analyze.edge.birth.death.graph.stability}
\title{Analyze Graph Stability Across k Values}
\usage{
analyze.edge.birth.death.graph.stability(birth.death.matrix, kmin, kmax)
}
\arguments{
\item{birth.death.matrix}{A numeric matrix with columns "birth_time" and "death_time"
containing the birth and death times of edges}

\item{kmin}{The minimum k value to consider}

\item{kmax}{The maximum k value to consider}
}
\value{
A list containing:
\describe{
\item{stability.matrix}{Matrix where rows correspond to k values and columns to different
stability metrics:
- persistence: death_time - birth_time (total lifespan of edges)
- future_stability: death_time - k (remaining lifetime after k)
- past_stability: k - birth_time (time existed before k)
- edge_count: number of edges present at k}
\item{stability.scores}{Vector of stability scores combining temporal metrics.
For each k, score = persistence * min(future_stability, past_stability),
emphasizing k values where edges show balanced stability in both directions}
\item{k.values}{Vector of k values analyzed (kmin:kmax)}
\item{opt.k}{The k value with highest stability score}
}
}
\description{
Evaluates multiple stability metrics for each k value in the range \link{kmin, kmax}
to assess the stability characteristics of the graph structure at each k, focusing
on the temporal persistence patterns of edges.
}
\details{
The function assesses graph stability by analyzing three temporal aspects of edges:
persistence (total lifespan), future stability (remaining lifetime), and past
stability (time existed). The stability score for each k combines these metrics
to identify values where edges demonstrate balanced stability - they have existed
for a substantial time (high past stability) and continue to exist (high future
stability), with the overall effect weighted by persistence to favor long-lived
edges. This approach is inspired by concepts from persistent homology and
topological data analysis, where the stability of features across different
scales helps identify meaningful structures.
}
\examples{
\dontrun{
result <- create.iknn.graphs.with.bd.stats(X, kmin = 3, kmax = 10)
stability <- analyze.graph.stability(result$birth_death_matrix, kmin = 3, kmax = 10)

# Plot stability metrics
par(mfrow = c(2,2))
for(metric in c("persistence", "future_stability", "past_stability")) {
  plot(stability$k.values, stability$stability.matrix[,metric], type = "l",
       xlab = "k", ylab = metric)
  abline(v = stability$opt.k, col = "red", lty = 2)
}
plot(stability$k.values, stability$stability.scores, type = "l",
     xlab = "k", ylab = "Combined Stability Score")
abline(v = stability$opt.k, col = "red", lty = 2)
}

}
\seealso{
\code{\link{create.iknn.graphs.with.bd.stats}},
\code{\link{find.optimal.k}},
\code{\link{find.optimal.k.local}},
\code{\link{analyze.barcode.density}}
}
